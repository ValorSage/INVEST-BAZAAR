# 8. كيفية المساهمة والتطوير

هذا الدليل مخصص للمطورين الذين يرغبون في فهم كيفية تعديل الكود الحالي، إضافة ميزات جديدة، أو المساهمة في تطوير المشروع.

## المتطلبات الأساسية

- فهم جيد لـ **React** (خاصة Hooks).
- معرفة بـ **TypeScript**.
- الإلمام بـ **TailwindCSS**.

## إضافة مكون أو شاشة جديدة

لنفترض أنك تريد إضافة شاشة جديدة، على سبيل المثال "شاشة الإنجازات" (Achievements Screen).

1.  **إنشاء ملف المكون**:
    - في مجلد `components/`، قم بإنشاء ملف جديد باسم `Achievements.tsx`.
    - قم ببناء واجهة المستخدم للمكون باستخدام JSX و TailwindCSS.

    ```tsx
    // components/Achievements.tsx
    import React from 'react';

    interface AchievementsProps {
        onBack: () => void;
        // ... أي props أخرى تحتاجها
    }

    const Achievements: React.FC<AchievementsProps> = ({ onBack }) => {
        return (
            <div>
                <h1>شاشة الإنجازات</h1>
                <button onClick={onBack}>عودة</button>
                {/* ... محتوى الشاشة ... */}
            </div>
        );
    };

    export default Achievements;
    ```

2.  **إدارة حالة العرض في `App.tsx`**:
    - في `App.tsx`، أضف متغير حالة جديد لتتبع ما إذا كانت شاشة الإنجازات يجب أن تظهر أم لا.

    ```typescript
    // في App.tsx
    const [showAchievements, setShowAchievements] = useState(false);
    ```

3.  **تحديث منطق العرض (`renderContent` أو ما شابه)**:
    - في `App.tsx`، قم بتعديل الدالة التي تقرر أي مكون يتم عرضه لإدراج المكون الجديد.

    ```tsx
    // في App.tsx
    if (showAchievements) {
        return <Achievements onBack={() => setShowAchievements(false)} />;
    }
    // ... بقية الشاشات
    ```

4.  **إضافة زر لفتح الشاشة**:
    - في المكان الذي تريد منه فتح الشاشة الجديدة (على سبيل المثال، من القائمة الرئيسية في `MainCounter.tsx` أو القائمة الجانبية)، أضف زرًا يقوم بتحديث الحالة.
    - ستحتاج إلى تمرير دالة `() => setShowAchievements(true)` كـ `prop` إلى ذلك المكون.

## تعديل الحالة (State)

- **القاعدة الذهبية**: يجب أن يبقى منطق الأعمال الرئيسي (تعديل النقاط، الجواهر، إلخ) داخل `App.tsx`.
- **لا تقم بتعديل الحالة مباشرة**: استخدم دائمًا دوال `set` التي يوفرها `useState` أو `useLocalStorage` (مثل `setPoints`, `setJewels`).
- **استخدام دالة التحديث (Updater Function)**: عند تحديث حالة تعتمد على قيمتها السابقة، استخدم دائمًا دالة التحديث لضمان عدم حدوث مشاكل في التزامن.
  - **صحيح**: `setPoints(prevPoints => prevPoints + 10)`
  - **خطأ**: `setPoints(points + 10)`

## أفكار للتطويرات المستقبلية

1.  **الانتقال إلى خادم حقيقي (Backend)**:
    - هذا هو التحسين الأكبر والأكثر أهمية.
    - **التقنيات المقترحة**: Node.js مع Express.js للخادم، و MongoDB أو PostgreSQL لقاعدة البيانات، و Socket.IO للاتصال في الوقت الفعلي (للدردشة).
    - **الخطوات**:
        - بناء واجهات برمجة تطبيقات (APIs) لـ: تسجيل المستخدمين، تسجيل الدخول، الحصول على بيانات المستخدم، تحديث الأرصدة، شراء العدادات، إرسال الرسائل.
        - استبدال كل استخدامات `localStorage` (باستثناء ربما `currentUser` كرمز للجلسة) باستدعاءات API.

2.  **تحسين نظام الدردشة**:
    - باستخدام خادم و WebSockets (مثل Socket.IO)، يمكن تحويل الدردشة إلى نظام حقيقي يعمل في الوقت الفعلي عبر الأجهزة.

3.  **إضافة ميزات جديدة**:
    - **نظام الأصدقاء**: القدرة على إضافة مستخدمين آخرين كأصدقاء.
    - **لوحة المتصدرين (Leaderboard)**: عرض قائمة بأعلى المستخدمين من حيث النقاط أو الجواهر.
    - **إنجازات (Achievements)**: منح مكافآت للمستخدمين عند تحقيق أهداف معينة (مثل تفعيل العداد 10 أيام متتالية).

4.  **تحسين تجربة المستخدم (UX)**:
    - إضافة انتقالات (transitions) وحركات (animations) أكثر سلاسة.
    - تحسين استجابة التصميم للشاشات الكبيرة جدًا أو الصغيرة جدًا.
    - إضافة أصوات تفاعلية.
